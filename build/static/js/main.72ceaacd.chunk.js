(this["webpackJsonpeth-electric"]=this["webpackJsonpeth-electric"]||[]).push([[0],{273:function(e,t){},275:function(e,t){},280:function(e,t){},281:function(e,t){},306:function(e,t){},308:function(e,t){},318:function(e,t){},320:function(e,t){},330:function(e,t){},332:function(e,t){},346:function(e,t){},381:function(e,t){},382:function(e,t){},450:function(e,t){},452:function(e,t){},457:function(e,t){},459:function(e,t){},466:function(e,t){},478:function(e,t){},481:function(e,t){},486:function(e,t){},562:function(e,t,n){},567:function(e,t,n){},568:function(e,t,n){},569:function(e,t,n){"use strict";n.r(t);var c=n(39),s=n.n(c),i=n(43),a=(n(259),n(30)),r=n(44),o=n.n(r),l=(n(562),n(18)),u=n.n(l),b=n(31),j=n(16),d=n(11),h=n(1),p=n.n(h),O=Object(h.createContext)(null),x=n(98),f=n(136),m=n.p+"static/media/eth_logo.04284529.svg",v=n.p+"static/media/asset1.6aeff87a.png",y=n(0),g=function(){return Object(y.jsxs)("div",{class:"container",children:[Object(y.jsx)("div",{class:"container",children:Object(y.jsxs)("div",{class:"row",children:[Object(y.jsxs)("div",{class:"col-xl-9 mx-auto",children:[Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)("h1",{class:"mb-5 flickerOn",children:"the only electrical grid running on ethereum smart contracts, harnessing the power of chainlink keepers"}),Object(y.jsx)("br",{}),Object(y.jsx)("h4",{class:"flickerOn"})]})," "]})}),Object(y.jsx)("div",{class:"row",align:"center"}),Object(y.jsx)("img",{src:v,className:"flickerOn",alt:"",width:"800px"})]})},w=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"getLatestPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"payPenny",outputs:[],stateMutability:"payable",type:"function"}],k="0x097C8609a052E99746D6C836f459dBbbA2DFB52F",C=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[],name:"VoltageChange",type:"event"},{inputs:[{internalType:"uint256",name:"ledValue",type:"uint256"},{internalType:"uint256",name:"minutesToHaveOn",type:"uint256"}],name:"BuyElectricityTimeOn",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"LED",outputs:[{internalType:"uint256",name:"Voltage",type:"uint256"},{internalType:"uint256",name:"ExpirationTimeUNIX",type:"uint256"},{internalType:"address",name:"LatestBuyer",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"Owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TurnOffElectricity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"",type:"bytes"}],name:"checkUpkeep",outputs:[{internalType:"bool",name:"upkeepNeeded",type:"bool"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"expirationOccured",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"",type:"bytes"}],name:"performUpkeep",outputs:[],stateMutability:"nonpayable",type:"function"}],T=[{title:"Blue",styleClass:"btn-hover color-blue",buttonClickValue:0},{title:"Green",styleClass:"btn-hover color-green",buttonClickValue:1},{title:"Yellow",styleClass:"btn-hover color-yellow",buttonClickValue:2},{title:"Red",styleClass:"btn-hover color-red",buttonClickValue:3}],A=[{title:"Orange",styleClass:"btn-hover color-orange",buttonClickValue:4},{title:"Purple",styleClass:"btn-hover color-purple",buttonClickValue:5},{title:"Grey",styleClass:"btn-hover color-grey",buttonClickValue:6},{title:"White",styleClass:"btn-hover color-white",buttonClickValue:7}],M=n(576);function S(e){var t=e.showToastFromProp,n=e.errorMsg,c=e.onClose,s=Object(h.useState)(!1),i=Object(j.a)(s,2),a=i[0],r=i[1],o=function(){r(!1),c()};Object(h.useEffect)((function(){var e=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?r(!0):t||r(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]);return Object(y.jsxs)("div",{children:[" ",(console.log(a,"showtoast t or f?"),Object(y.jsx)("div",{className:"module-border-wrap",children:Object(y.jsxs)(M.a,{show:a,onHide:o,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(y.jsx)(M.a.Header,{children:"Warning"}),Object(y.jsx)(M.a.Body,{children:Object(y.jsx)("div",{className:"inv-toast-body",children:n})})]})}))]})}function N(e){e.degree,e.userLocation,e.basic;var t=Object(h.useState)(null),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(h.useState)(null),r=Object(j.a)(i,2),l=r[0],d=r[1],x=Object(h.useState)(""),f=Object(j.a)(x,2),m=f[0],v=f[1],g=Object(h.useState)(""),M=Object(j.a)(g,2),N=M[0],B=M[1],E=Object(h.useState)(),V=Object(j.a)(E,2),F=(V[0],V[1],Object(h.useState)("")),P=Object(j.a)(F,2),_=P[0],W=P[1],D=p.a.useContext(O),H=(D.userAccountAddress,D.setUserAccountAddress,Object(a.b)().account);Object(h.useEffect)((function(){window.ethereum&&(window.ethereum.on("chainChanged",(function(){window.location.reload()})),window.ethereum.on("accountsChanged",(function(){window.location.reload()})));var e=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new o.a(o.a.givenProvider||"http://localhost:8545"),e.next=3,t.eth.getChainId();case 3:n=e.sent,console.log(n),80001!==n&&W("Must be on the Mumbai test network"),c=new t.eth.Contract(w,"0x3231A32ed0B2234Ebe88A0b1476B2b00c75BA144"),i=new t.eth.Contract(C,k),d(i),s(c),console.log(c,"This is the matic price feed contract"),console.log(i,"This is electric keeper contract"),null!==c&&c.methods.getLatestPrice().call().then((function(e){B(t.utils.fromWei(e)),console.log(e),console.log(t.utils.fromWei(e))})).catch((function(e){console.log(e)}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[H]),Object(h.useEffect)((function(){console.log("matic Price Feed contract: ",c)}),[]);var I=function(){return N&&""!==m?(N*(10*m)).toFixed(3).toString():"0"},L=function(e){console.log("You chose the color:",e),console.log(H,"account in BUY handle click");try{var t=new o.a(window.web3.currentProvider),n=I();console.log(n),t.eth.sendTransaction({to:k,data:l.methods.BuyElectricityTimeOn(e,t.utils.toWei(n)).encodeABI(),value:t.utils.toWei(n),from:H})}catch(s){var c="Connect your wallet to buy";console.log(s,c),W(c)}};return Object(y.jsxs)("div",{class:"container",children:[Object(y.jsx)("div",{class:"row",children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("h1",{children:[Object(y.jsx)("br",{}),"buy electricity"]}),Object(y.jsx)("p",{children:"enter the amount of minutes of electricity you want to buy "}),Object(y.jsx)("div",{className:"row",children:Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{style:{marginBottom:150,marginTop:50,display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"50%"},children:[Object(y.jsx)("label",{style:{color:"#ffdd9a",marginRight:"20px",fontSize:"13px"},htmlFor:"minutes",children:"price: $0.10/minute"}),Object(y.jsx)("input",{type:"number",class:"input-matic",min:"0",step:"1",placeholder:"enter amount of minutes","data-name":"minutes",value:m,onChange:function(e){return v(e.target.value)},style:{width:"100%"}})]}),Object(y.jsx)("br",{}),Object(y.jsx)("label",{style:{color:"#ffdd9a",fontSize:"13px"},htmlFor:"minutes",children:"pick LED color to buy"}),Object(y.jsxs)("div",{style:{width:"80%"},children:[T.map((function(e){return Object(y.jsx)("button",{className:e.styleClass,onClick:function(){return L(e.buttonClickValue)},children:e.title})})),Object(y.jsx)("br",{}),A.map((function(e){return Object(y.jsx)("button",{className:e.styleClass,onClick:function(){return L(e.buttonClickValue)},children:e.title})}))]}),Object(y.jsx)("br",{}),Object(y.jsxs)("p",{children:[Object(y.jsx)("b",{children:"Amount: "})," \xa0\xa0\xa0\xa0 \u2248 \xa0"," ",I()," matic"]})]})})})]})}),""!==_?Object(y.jsx)(S,{showToastFromProp:""!==_,onClose:function(){return W("")},errorMsg:_}):null]})}var B=function(){return Object(y.jsx)("div",{class:"container",children:Object(y.jsxs)("div",{class:"row",children:[Object(y.jsxs)("div",{class:"col-5",children:[Object(y.jsxs)("h1",{children:[Object(y.jsx)("br",{}),Object(y.jsx)("b",{children:"About"})]}),Object(y.jsx)("p",{children:"Submission for the ETH Denver Virtual Hackathon #BUIDL event"}),Object(y.jsx)("br",{})]}),Object(y.jsx)("div",{class:"col-6",children:Object(y.jsx)("img",{src:m,style:{width:"40%"}})}),Object(y.jsx)("div",{class:"col"})]})})},E=n.p+"static/media/eth_logo.04284529.svg",V=function(){return Object(y.jsx)("div",{class:"container",children:Object(y.jsxs)("div",{class:"row",children:[Object(y.jsxs)("div",{class:"centre",children:[Object(y.jsxs)("h1",{children:[Object(y.jsx)("br",{}),Object(y.jsx)("b",{children:"Mobile Detected :("})]}),Object(y.jsx)("p",{children:"Unfortunately we are not currently mobile compatible. Feel free to check us out on a desktop!"})]}),Object(y.jsx)("div",{class:"row",children:Object(y.jsxs)("div",{className:"centre",children:[Object(y.jsx)("br",{}),Object(y.jsx)("img",{src:E,style:{height:"20vh"}}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{})]})})]})})},F=n(99),P=n(135),_=n(72),W=n.n(_),D=(n(567),n(137)),H=n(242),I="https://mainnet.infura.io/v3/55d040fb60064deaa7acc8e320d99bd4",L="https://rinkeby.infura.io/v3/55d040fb60064deaa7acc8e320d99bd4",U=new x.a({supportedChainIds:[1,3,4,5,42,80001]}),R=new D.a({rpc:{1:I,4:L},qrcode:!0,pollingInterval:15e3});function z(e){e&&e instanceof D.a&&(e.walletConnectProvider=void 0)}var Y=new H.a({url:L,appName:"demo-app",supportedChainIds:[1,4,80001]});function G(e){var t=e.showToastFromProp,n=(e.errorMsg,e.onClose),c=Object(h.useState)(),s=Object(j.a)(c,2),i=s[0],r=s[1],o=Object(a.b)(),l=(o.active,o.account),d=(o.library,o.connector,o.activate),p=(o.deactivate,o.web3reactContext,Object(a.b)()),O=l?String(l).substr(0,5)+"..."+String(l).substr(38,4):"",x=function(){r(!1),n()},f=function(){try{p.activate(U,void 0,!0).catch((function(e){return window.location.reload()}))}catch(e){console.error(e)}},m=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(R),e.next=4,d(R);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.activate(Y);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();Object(h.useEffect)((function(){var e=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?r(!0):t||r(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]);return Object(y.jsxs)("div",{children:[" ",(console.log(i,"showtoast t or f?"),Object(y.jsxs)(M.a,{show:t,onHide:x,children:[Object(y.jsx)("div",{style:{marginTop:"20px",textAlign:"center"},children:Object(y.jsx)(M.a.Title,{children:Object(y.jsx)("p",{children:"connect a wallet"})})}),Object(y.jsxs)(M.a.Body,{children:[Object(y.jsx)("div",{className:"col-md-12"}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("p",{className:"short-address-modal",children:[" ",l?O:" "]}),Object(y.jsxs)("button",{class:"btn-hover color-electric",onClick:f,children:[Object(y.jsx)("img",{width:"30",height:"30",style:{marginRight:20},src:"https://cdn.discordapp.com/attachments/908513230714982410/913132016365633596/aaaaa.png"}),"Connect Metamask Wallet"]}),Object(y.jsx)("pre",{}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("button",{class:"btn-hover color-electric",onClick:v,children:[Object(y.jsx)("img",{width:"30",height:"30",style:{marginRight:20},src:"https://cdn.freelogovectors.net/wp-content/uploads/2021/12/coinbase-logo-freelogovectors.net_.png "}),"Connect Coinbase Wallet"]}),Object(y.jsx)("pre",{})]}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("button",{class:"btn-hover color-electric",onClick:m,children:[Object(y.jsx)("img",{width:"30",height:"30",style:{marginRight:20},src:"https://docs.walletconnect.com/img/walletconnect-logo.svg"}),"Connect walletconnect"]}),Object(y.jsx)("pre",{})]})]})]})]}))]})}var J=function(e){e.handleConnectMetamask,e.connectedAddrValue;var t=p.a.useContext(O),n=(t.userAccountAddress,t.setUserAccountAddress,Object(h.useState)(!1)),c=Object(j.a)(n,2),s=c[0],r=c[1],o=Object(a.b)(),l=(o.active,o.account),u=(o.library,o.connector,o.activate,o.deactivate,l?String(l).substr(0,5)+"..."+String(l).substr(38,4):"");return Object(y.jsxs)("header",{className:W.a.header,children:[Object(y.jsx)(G,{onClose:function(){return r(!1)},showToastFromProp:s}),Object(y.jsxs)("nav",{class:"navbar",children:[Object(y.jsx)("div",{style:{fontSize:"xx-large",marginRight:"50px"},children:Object(y.jsx)("div",{class:"h-screen flex justify-center items-center bg-gray-800",children:Object(y.jsxs)("h1",{class:"gradient-text font-sans font-black text-6xl",children:[Object(y.jsx)(P.a,{icon:F.a})," electricKeeper"]})})}),Object(y.jsxs)("ul",{id:"ul-navigation",class:"nav-ul","data-visible":"false",children:[Object(y.jsx)("li",{class:"nav-li",children:Object(y.jsx)(i.b,{className:function(e){return e.isActive?W.a.active:""},to:"/",children:"Home"})}),Object(y.jsxs)("li",{class:"nav-li",children:[Object(y.jsx)(i.b,{className:function(e){return e.isActive?W.a.active:""},to:"/buy",children:"Buy"})," "]}),Object(y.jsx)("li",{class:"nav-li",children:Object(y.jsx)(i.b,{className:function(e){return e.isActive?W.a.active:""},to:"/about",children:"About"})}),Object(y.jsx)("li",{class:"nav-li",children:Object(y.jsx)("a",{className:function(e){return e.isActive?W.a.active:""},children:Object(y.jsx)("button",{className:"btn btn-light mm",onClick:function(){return r(!0)},children:""!==u?u:"Connect a wallet"})})})]}),Object(y.jsx)("button",{class:"mobile-toggle","aria-controls":"ul-navigation","aria-expanded":"false",children:Object(y.jsx)("span",{class:"sr-only",children:"Menu"})})]})]})},K=(n(568),function(){return Object(y.jsx)("footer",{children:Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)("div",{class:"link-boxes",children:[Object(y.jsxs)("ul",{class:"box",children:[Object(y.jsx)("li",{class:"link_name",children:"electricKeeper"}),Object(y.jsx)("li",{children:Object(y.jsx)("img",{width:"20%",src:m})})]}),Object(y.jsxs)("ul",{class:"box",children:[Object(y.jsx)("li",{class:"link_name",children:"project"}),Object(y.jsxs)("li",{children:[" ",Object(y.jsx)("a",{href:"https://github.com/johannafransn/WETH-Frontend/graphs/contributors",target:"_blank",children:"team"})]})]}),Object(y.jsxs)("ul",{class:"box",children:[Object(y.jsx)("li",{class:"link_name",children:"support"}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{href:"https://weth.io/",target:"_blank",children:"FAQ"})})]}),Object(y.jsxs)("ul",{class:"box",children:[Object(y.jsx)("li",{class:"link_name",children:"social"}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{target:"_blank",href:"https://github.com/johannafransn/WETH-Frontend",children:"github"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{target:"_blank",href:"https://discord.com/",children:"discord"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{href:"#"})})]})]})})})});var q=function(){var e=this,t=Object(h.useState)(""),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(h.useState)(""),r=Object(j.a)(i,2),l=r[0],p=r[1],x=Object(a.b)(),m=(x.active,x.account,x.library,x.connector,x.activate,x.deactivate,Object(a.b)(),function(){var t=Object(b.a)(u.a.mark((function t(){var n,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e,n=new o.a(o.a.givenProvider||"http://localhost:8545"),t.next=4,n.eth.net.getNetworkType();case 4:return t.sent,t.next=7,window.ethereum.enable();case 7:return t.next=9,n.eth.getAccounts();case 9:i=t.sent,console.log(i,"account in app.js before set state"),s(i),p(String(i).substr(0,5)+"..."+String(i).substr(38,4)),console.log(c,"user metamask address after set state");case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return Object(y.jsxs)(O.Provider,{value:{userAccountAddress:c,errorMsg:""},children:[f.isMobile?"":Object(y.jsx)(J,{handleConnectMetamask:m,connectedAddrValue:l}),Object(y.jsx)("main",{children:f.isMobile?Object(y.jsx)(V,{}):Object(y.jsxs)(d.c,{children:[Object(y.jsx)(d.a,{path:"/",element:Object(y.jsx)(g,{})}),Object(y.jsx)(d.a,{path:"/buy",element:Object(y.jsx)(N,{})}),Object(y.jsx)(d.a,{path:"/about",element:Object(y.jsx)(B,{})}),Object(y.jsx)(d.a,{path:"/error",element:Object(y.jsx)(V,{})})]})}),Object(y.jsx)(K,{})]})};s.a.render(Object(y.jsx)(i.a,{children:Object(y.jsx)(a.a,{getLibrary:function(e){return new o.a(e)},children:Object(y.jsx)(q,{})})}),document.getElementById("root"))},72:function(e,t,n){}},[[569,1,2]]]);
//# sourceMappingURL=main.72ceaacd.chunk.js.map